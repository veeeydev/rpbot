const addCmdReactions = async d => {
  
  const code = d.command.code
  
  if (code.split("$addCmdReactions").length >= 3) return d.message.channel.send(`❌ Can't use more than one $addCmdReactions `)
  
  const inside = code.split("$addCmdReactions[")[1].split("]")[0]
  
  for (const reaction of inside.split(";")) {
    
    const react = await d.message.react(reaction).catch(err => {})
    
    if (!react) d.message.channel.send(`❌ Failed to add '${reaction}' reaction `) 
  }
  
  return {
    code: code.replaceLast(`$addCmdReactions[${inside}]`, "")
  } 
}

module.exports = addCmdReactions 