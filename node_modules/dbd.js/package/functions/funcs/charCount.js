module.exports = async d => {
    const code = d.command.code

    const r = code.split("$charCount").length - 1

    const after = code.split("$charCount")[r]

    if (after[0] === "[") {
        const inside = after.slice(1).split("]")[0]

        return {
            code: code.replaceLast(`$charCount[${inside}]`, inside.length)
        }
    } else{
        return {
            code: code.replaceLast(`$charCount`, d.args.join(" ").length)
        }
    }
}