const fs = require("fs")
module.exports = async d => {
    const code = d.command.code 
    
    //const path = code.split("$reboot[")[1].split("]")[0] 
    
    try {
        //if(!fs.existsSync(process.cwd()+"/"+path) || !fs.statSync(process.cwd()+"/"+path).isFile()) throw new Error("Path does not exist or not a File")
      console.log(process.cwd())
        process.on("exit", () => {
    require("child_process").spawn(process.argv.shift(), process.argv, {
                cwd: process.cwd(),
                detached : true,
                stdio: "inherit"
            });
     
  })
  process.exit()
    } catch (e) {
        return d.error(`‚ùå Invalid file path in \`$reboot[${path}]\`\nError: ${e.message}`)
    }
}