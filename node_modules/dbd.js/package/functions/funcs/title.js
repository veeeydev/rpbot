const title = d => {

  const r = d.command.code.split("$title").length
  
  if (r >= 3) return d.message.channel.send(`❌ Can't use more than one $title.`)
  
  const inside = d.command.code.split("$title")[1].split("[")[1].split("]")[0]
  
  const [title, url] = inside.split(";") 
  
  if (url) d.embed.setURL(url.addBrackets()) 
  
  return {
    code: d.command.code.replaceLast(`$title${d.command.code.split("$title")[1].split("]")[0]}]`, ""),
    embed: d.embed.setTitle(title.addBrackets()) 
  }
}

module.exports = title