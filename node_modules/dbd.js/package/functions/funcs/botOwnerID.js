const Discord = require("discord.js") 
module.exports = async d => {
    const code = d.command.code 
    
    let separator = ", " 
    
    const r = code.split("$botOwnerID").length - 1 
    const checker = code.split("$botOwnerID")[r] 
    
    const anything = checker.startsWith("[") ? checker.slice(1).split("]")[0] : undefined 
    if (anything) separator = anything 
    
    const data = await d.client.fetchApplication() 
    const owner = data.owner 
    
    return {
        code: code.replaceLast(`$botOwnerID${anything ? `[${anything}]` : ""}`, owner instanceof Discord.User ? owner.id : (() => {
            const owners = data.owner.members.filter(e => data.owner.ownerID !== e.user.id).map(u => u.user.id)
            
            owners.unshift(data.owner.ownerID) 
            
            return owners.filter(x => x).join(separator) 
        })()) 
    }
}