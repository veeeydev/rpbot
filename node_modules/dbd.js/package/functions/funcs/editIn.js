const ms = require("ms")

const editIn = async d => {

    const code = d.command.code

    if (code.split("$editIn").length >= 3) return d.message.channel.send(`:x: Cant use more than one $editIn.`)

    const inside = code.split("$editIn[")[1].split("]")[0]

    const fields = inside.split(";")

    const time = ms(fields.shift())

    return {
        code: code.replaceLast(`$editIn[${inside}]`, ""),
        editIn: {
            time: time,
            fields: fields
        }
    }
}

module.exports = editIn