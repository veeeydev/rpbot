const channelID = async d => {

    let code = d.command.code 

    const r = code.split("$channelID").length - 1

    const after = code.split("$channelID")[r]

    if (after.startsWith("[")) {
        const inside = after.split("[")[1].split("]")[0]

        const channel = d.client.channels.cache.find(c => c.name === inside)

        if (!channel) return d.error(`:x: Invalid channel name in \`$channelID[${inside}]\``)

        code = code.replaceLast(`$channelID[${inside}]`, channel.id)
    } else {
        code = code.replaceLast("$channelID", d.message.channel.id)
    }  

    return {
        code: code
    }
}

module.exports = channelID