const config = require("./config.json")
const Discord = require("./package/index.js")
//DBD.JS :)
const api = require("./package/handlers/api")
api()
const Bot = new Discord.Bot({
  sharding: false,
  shardAmount: 2,
  mobile: true, 
  token: config.token,
  prefix: ["test", "$getServerVar[prefix]"] 
})

Bot.onMessage()
/*
Bot.command({
    name: "$alwaysExecute", 
    code: `
 $username   only works here don't delete it for test 
 $onlyIf[$authorID!=$clientID;]
    $onlyForChannels[773357374328012840;] `
})
*/
Bot.variables({
  level: 0,
  rep: 0,
  prefix: "!",
  ready: "true",
  enabled: "<:enabled:790670583582687232>",
  disabled: "<:disabled:790670583800922162>"
})

Bot.awaitedCommand({
    name: "test", 
    code : `ID: $splitText[1] Author: $username[$getMessage[$channelID;$splitText[1];userID]]`
 })


Bot.onRoleUpdate()
Bot.onRoleCreate()
Bot.onRoleDelete()

Bot.roleDeleteCommand({
    channel: "773357374328012840", 
    code: `The role $oldRole[name] has been deleted `
})

Bot.roleCreateCommand({
    channel: "773357374328012840", 
    code: `The role $newRole[name] has been created`
})

Bot.roleUpdateCommand({
    channel: "773357374328012840", 
    code: `Role $oldRole[name] has been updated 
    Name: $oldRole[name] => $newRole[name] 
    perms: $oldRole[permissions] => $newRole[permissions] 
    color: $oldRole[hexColor] => $newRole[hexColor] `
})
//Bot.loadCommands("./commands/")

//Bot.onUserUpdate()

Bot.userUpdateCommand({
    channel: "773357374328012840", 
    code: `$username updated something
    Partial: $oldUser[partial] 
    Presence: $oldUser[status] `
})

/*ot.presenceCommand({
    channel: "773357374328012840", 
    code: `$username has updated presence 
    Status: $presence[status] 
    Activities: $presence[activities]`
})*/
/*Bot.command({
    name: "$alwaysExecute", 
    code: `test xd $sendMessage[hello;no] 
    $onlyForChannels[773357374328012840;] `
})*/
/*Bot.awaitedCommand({
    name: "tag", 
    code: `$userTag - $getGlobalUserVar[level]`
})*/

Bot.onInteractionCreate()

/*Bot.interactionCommand({
    name: "test", 
    code: `$interactionReply[$username triggered a slash command 
    {description:
First option: $message[1]
Second option: $message[2] 
Third: $message[3]
All in one: $message}]`
})*/
 
Bot.onGuildJoin() 

Bot.command ({
    name: "if3", 
    code: `$if[$message[1]==3]
    $if[$message[2]==xd] 
    lol 
    $else 
    L 
    $endif
    $else
    stfu 
    $endif`
})
Bot.command({
    name: "if",
   code: `
$if[$message[1]==hello] 
   $if[$message[2]==bye] 
      $title[Hello ] 
      $description[and bye! $username] 
      $color[ORANGE] 
      $addField[That was a big;L] 
      $footer[Lmao] 
   $else 
      $title[hello $username] 
      $color[GREEN] 
      $thumbnail[$authorAvatar] 
      $footer[if statements in dbdjs are too op] 
   $endif
$elseIf[$message[1]==test] 
    $color[07CDFA] 
    $title[Or not] 
    $description[TesT]
$endelseIf 
$else 
   $color[RED] 
   $footer[if system 2.0] 
   $title[Error] 
   $addTimestamp 
   $description[say hello, or test] 
$endif
   `
})

Bot.command({
    name: "info",
    aliases: ['stats'],
    code: `
$color[ff00ff]
$addField[Created;$jsonRequest[https://api.dbdjs.repl.co/package/downloads;downloads.total.start;Error] (Developement started way earlier, then in November it was prioritized)]
$addField[Total Downloads;$jsonRequest[https://api.dbdjs.repl.co/package/downloads;downloads.total.downloads;Error]]
$addField[Devs;$userTag[608358453580136499]
$userTag[739591551155437654]]
$title[DBD.js Stats]
$description[[DBD.JS is a Simplified and a Wrapper of Discord JS,
it is created for users who do not understand JavaScript and how it works. Simply dbd.js is for beginners and more easy to Understand, no need complicated codes.
\\](https://www.npmjs.com/package/dbd.js)]
$addField[Current Version;v1.4.0]
$executionTime
`
})


Bot.onMusicStart()
Bot.musicStartCommand({
 channel: "$channelID", 
 code: `
 $color[GREEN]
 $author[Now Playing]
 $description[Playing $songInfo[title] - $songInfo[duration]]`
})

Bot.onInviteCreate() 
Bot.inviteCreateCommand({
    channel: "795285270747807744", 
    code: `$username[$inviteUserID] created the invite $inviteCode for <#$inviteChannelID>`
})

Bot.onInviteDelete()
Bot.inviteDeleteCommand({
    channel: "795285270747807744", 
    code: `Invite $inviteCode with has been deleted`
})

Bot.onBanAdd()
Bot.onBanRemove()
Bot.banAddCommand({
    channel: "773357374328012840", 
    code: `$username has been banned in $serverName`
})
Bot.banRemoveCommand({
    channel: "773357374328012840", 
    code: `$username has been unbanned in $serverName `
})
Bot.readyCommand({
channel: "773357374328012840",
code: ` 
$title[API Startup Mode;https://www.npmjs.com/package/dbd.js]
$description[API restarted\n**Ping Developers**: $geTVar[disabled]] 
$color[GREEN]
$addTimestamp
`
})
//need to add bot.js
Bot.readyCommand({
channel: "773357374328012840",
code: ` 
$title[Beta Mode Startup;https://www.npmjs.com/package/dbd.js]
$description[**Public**: $getVar[disabled]]
$color[GREEN]
$addTimestamp
$wait[3s]`
}) //ignore this it's for booster 

Bot.command({
  name: "act",
  error: `$username An error occurred!\`\`\`\n$advancedTextSplit[$error;\n;1]\`\`\``, 
  code: `$activity`
})

Bot.command({
    name: "ins", 
    code: `    $eval[$message;no]
    $onlyForIDs[739591551155437654;608358453580136499;502968724207304714;709261464468193322;]`, 
    asynchronous: false 
})
Bot.command({
    name: "eval", 
    code: `$eval[$message;no;new] 
    
    $onlyForIDs[739591551155437654;608358453580136499;502968724207304714;709261464468193322;]`, 
    error: `$username, an error occurred!
$error `
})
Bot.command({
  name: "teval", 
  aliases: ["ev"], 
  description: "an eval command", 
  usage: "test eval <input>", 
  code: `
  $color[GREEN]
  $title[Eval]
  $footer[I can't execute embed functions L]
  $addField[Input;\`\`\`\n$replaceText[$replaceText[$checkCondition[$==];true;undefined];false;$message]\`\`\`] 
  $description[**Output**\`\`\`\n$replaceText[$replaceText[$checkCondition[$splitText[1]==];true;undefined];false;$splitText[1]]\`\`\`] 
  $textSplit[$eval[$message;yes];®©®©®©©]
$onlyForIDs[739591551155437654;608358453580136499;709261464468193322;]
`
})

Bot.command({
  name: "djseval",
  aliases: ["djs"],
  code: `
$djsEval[$message;yes]
$onlyForIDs[739591551155437654;608358453580136499;502968724207304714;709261464468193322;]
`
})