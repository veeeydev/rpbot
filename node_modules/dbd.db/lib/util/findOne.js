function defaultFn(item) {
	for (const key of this.keys) {
		if (this['filter'][key] !== item[key]) return false
	}

	return true
}

async function findOne(array, filter, keys, fn = defaultFn) {
	if (!keys) keys = Object.keys(filter)

	const index = array.findIndex(fn, { keys, filter })

	if (index < 0) return {}

	return {
		item: array[index],
		index
	}
}

module.exports = findOne